{% extends "layouts/base.html" %}

{% block title %}Search - TIB Watch{% endblock %}

{% block navbar_search %}{% endblock %}

{% block content %}
<div style="max-width: 800px; margin: 0 auto; margin-bottom: var(--spacing-xl);">

    <div style="display: flex; align-items: center; gap: 20px; margin-bottom: var(--spacing-lg);">
        <a href="/tracker/" class="btn btn-primary"
            style="padding: 8px 16px; border-radius: 20px; text-decoration: none; flex-shrink: 0;">
            <i class="fas fa-arrow-left"></i> Dashboard
        </a>
        <h1 style="font-size: 2rem; font-weight: 700; color: var(--text-primary); margin: 0;">Explore Content</h1>
    </div>

    <div class="search-container" style="position: relative;">
        <i class="fas fa-search"
            style="position: absolute; left: 20px; top: 50%; transform: translateY(-50%); color: var(--text-muted); z-index: 2;"></i>
        <input type="text" name="q" class="search-input" placeholder="Movies, TV Shows, People..."
            style="width: 100%; padding-left: 50px;" value="{{ request.query_params.get('q', '') }}"
            hx-get="/tracker/search/results" hx-trigger="keyup changed delay:500ms, search" hx-target="#search-results"
            hx-indicator=".htmx-indicator" autocomplete="off" autofocus>
    </div>

    <div class="htmx-indicator" style="display:none; color: var(--accent-color); margin-top: 1rem; text-align: center;">
        <i class="fas fa-spinner fa-spin"></i> Searching...
    </div>
</div>

<div id="search-results">
    <!-- Results will appear here -->
    <div style="text-align: center; color: var(--text-secondary); margin-top: 50px;">
        <i class="fas fa-film" style="font-size: 3rem; margin-bottom: 20px; opacity: 0.5;"></i>
        <p>Start typing to discover amazing content.</p>
    </div>
</div>
{% endblock %}